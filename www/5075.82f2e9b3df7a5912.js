"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5075],{5075:(F,m,s)=>{s.r(m),s.d(m,{HomePageModule:()=>v});var d=s(177),i=s(791),o=s(4341),c=s(8986),h=s(467),t=s(3953),g=s(7355);const p=[{path:"",component:(()=>{class n{constructor(a,e,r,l){this.fb=a,this.authService=e,this.alertController=r,this.router=l,this.username="",this.email="",this.password="",this.loginForm=this.fb.group({email:["",[o.k0.required,o.k0.email]],password:["",[o.k0.required,o.k0.minLength(6)]]})}onLogin(){if(this.loginForm.valid){this.email=this.loginForm.value.email,this.password=this.loginForm.value.password;const a={email:this.email,password:this.password};let e="",r=!1;this.email.includes("@estudiante.com")?(e="students/login",r=!0):this.email.includes("@profesor.com")&&(e="teachers/login"),this.authService.login(e,a).subscribe(l=>{const u=r?l.student:l.teacher;u.isStudent=r,localStorage.setItem("userData",JSON.stringify(u)),this.router.navigate(["/bienvenido"])},l=>{console.error("Error al iniciar sesi\xf3n:",l)}),this.loginForm.reset()}}showErrorAlert(a){var e=this;return(0,h.A)(function*(){yield(yield e.alertController.create({header:"Error en el inicio de sesi\xf3n",message:a.message||"Ocurri\xf3 un error inesperado. Intenta de nuevo.",buttons:["OK"]})).present()})()}static#t=this.\u0275fac=function(e){return new(e||n)(t.rXU(o.ok),t.rXU(g.u),t.rXU(i.hG),t.rXU(c.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"ion-padding"],[1,"login-form"],[3,"ngSubmit","formGroup"],["position","floating"],["type","email","formControlName","email"],["type","password","formControlName","password"],["expand","block","type","submit",3,"disabled"]],template:function(e,r){1&e&&(t.j41(0,"ion-content",0)(1,"div",1)(2,"ion-card")(3,"ion-card-header")(4,"ion-card-title"),t.EFF(5,"Iniciar Sesi\xf3n"),t.k0s()(),t.j41(6,"ion-card-content")(7,"form",2),t.bIt("ngSubmit",function(){return r.onLogin()}),t.j41(8,"ion-item")(9,"ion-label",3),t.EFF(10,"Correo Electr\xf3nico"),t.k0s(),t.nrm(11,"ion-input",4),t.k0s(),t.j41(12,"ion-item")(13,"ion-label",3),t.EFF(14,"Contrase\xf1a"),t.k0s(),t.nrm(15,"ion-input",5),t.k0s(),t.j41(16,"ion-button",6),t.EFF(17," Iniciar Sesi\xf3n "),t.k0s()()()()()()),2&e&&(t.R7$(7),t.Y8G("formGroup",r.loginForm),t.R7$(9),t.Y8G("disabled",!r.loginForm.valid))},dependencies:[o.qT,o.BC,o.cb,i.Jm,i.b_,i.I9,i.ME,i.tN,i.W9,i.$w,i.uz,i.he,i.Gw,o.j4,o.JD],styles:[".login-form[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}ion-card[_ngcontent-%COMP%]{width:100%;max-width:400px}ion-card-title[_ngcontent-%COMP%]{text-align:center;font-size:1.4rem}ion-button[_ngcontent-%COMP%]{margin-top:20px}.link-container[_ngcontent-%COMP%]{text-align:center;margin-top:15px}.link-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--ion-color-primary);text-decoration:none;font-weight:700}"]})}return n})()}];let f=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[c.iI.forChild(p),c.iI]})}return n})(),v=(()=>{class n{static#t=this.\u0275fac=function(e){return new(e||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[d.MD,o.YN,i.bv,f,o.X1]})}return n})()}}]);